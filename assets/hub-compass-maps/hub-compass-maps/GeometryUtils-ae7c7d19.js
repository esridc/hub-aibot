import { f as s } from './hub-compass-map-4d751555.js';
import { i as i$1 } from './alignmentUtils-63467b02.js';
import { L as L$1, A as A$1, E as E$1, S as S$1 } from './color-c09f883e.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$1(t,e,s){const n=L$1.SIZE_FIELD_STOPS|L$1.SIZE_MINMAX_VALUE|L$1.SIZE_SCALE_STOPS|L$1.SIZE_UNIT_VALUE,o=(e&(A$1.FIELD_TARGETS_OUTLINE|A$1.MINMAX_TARGETS_OUTLINE|A$1.SCALE_TARGETS_OUTLINE|A$1.UNIT_TARGETS_OUTLINE))>>>4;return t===E$1.LINE&&s.isOutline||t===E$1.FILL&&_(s.symbologyType)?n&o:n&~o}const o$1=0,v=8,l=7,h=8,S=11,u$1=11,p=12,c$1=13,y=14,V=15,d=16,g=17,T=18,m=19,z=20,E=21,L=26,M=Object.keys(S$1).filter((t=>"number"==typeof S$1[t])).reduce(((t,e)=>({...t,[e]:S$1[e]})),{});function I(t){return t===S$1.SIMPLE||t===S$1.OUTLINE_FILL_SIMPLE}function _(t){return t===S$1.OUTLINE_FILL||t===S$1.OUTLINE_FILL_SIMPLE}function b(t){return I(t.symbologyType)}function O(t){return _(t.symbologyType)}function f$1(t,e){switch(t){case E$1.FILL:return w.from(e);case E$1.LINE:return C.from(e);case E$1.MARKER:return N.from(e);case E$1.TEXT:return P.from(e);case E$1.LABEL:return Z.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function A(t){switch(U.load(t).geometryType){case E$1.MARKER:return new N(t);case E$1.FILL:return new w(t);case E$1.LINE:return new C(t);case E$1.TEXT:return new P(t);case E$1.LABEL:return new Z(t)}}class U{static load(t){const e=this.shared;return e.data=t,e}constructor(t){this._data=0,this._data=t;}set data(t){this._data=t??0;}get data(){return this._data}get geometryType(){return this.bits(h,S)}set geometryType(t){this.setBits(t,h,S);}get mapAligned(){return !!this.bit(z)}set mapAligned(t){this.setBit(z,t);}get sdf(){return !!this.bit(u$1)}set sdf(t){this.setBit(u$1,t??!1);}get pattern(){return !!this.bit(p)}set pattern(t){this.setBit(p,t);}get textureBinding(){return this.bits(o$1,v)}set textureBinding(t){this.setBits(t,o$1,v);}get symbologyType(){return this.bits(E,L)}set symbologyType(t){this.setBits(t,E,L);}get geometryTypeString(){switch(this.geometryType){case E$1.FILL:return "fill";case E$1.MARKER:return "marker";case E$1.LINE:return "line";case E$1.TEXT:return "text";case E$1.LABEL:return "label";default:throw new s(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const s=1<<t;e?this._data|=s:this._data&=~s;}bit(t){return (this._data&1<<t)>>t}setBits(t,e,s){for(let i=e,a=0;i<s;i++,a++)this.setBit(i,0!=(t&1<<a));}bits(t,e){let s=0;for(let i=t,a=0;i<e;i++,a++)s|=this.bit(i)<<a;return s}hasVV(){return !1}setVV(t,e){}getVariation(){return {mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:S$1[this.symbologyType],options:M,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(l&this.textureBinding)}}U.shared=new U(0);const F=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(d)}set vvSizeMinMaxValue(t){this.setBit(d,t);}get vvSizeScaleStops(){return 0!==this.bit(g)}set vvSizeScaleStops(t){this.setBit(g,t);}get vvSizeFieldStops(){return 0!==this.bit(T)}set vvSizeFieldStops(t){this.setBit(T,t);}get vvSizeUnitValue(){return 0!==this.bit(m)}set vvSizeUnitValue(t){this.setBit(m,t);}hasSizeVV(){return this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}hasVV(){return super.hasVV()||this.hasSizeVV()}setVV(t,e){super.setVV(t,e);const s=n$1(this.geometryType,t,e)&t;this.vvSizeMinMaxValue=!!(s&L$1.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&L$1.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&L$1.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&L$1.SIZE_SCALE_STOPS);}},x=t=>class extends t{get vvRotation(){return 0!==this.bit(V)}set vvRotation(t){this.setBit(V,t);}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,e){super.setVV(t,e),this.vvRotation=!e.isOutline&&!!(t&L$1.ROTATION);}},B=t=>class extends t{get vvColor(){return 0!==this.bit(c$1)}set vvColor(t){this.setBit(c$1,t);}hasVV(){return super.hasVV()||this.vvColor}setVV(t,e){super.setVV(t,e),this.vvColor=!e.isOutline&&!!(t&L$1.COLOR);}},R=t=>class extends t{get vvOpacity(){return 0!==this.bit(y)}set vvOpacity(t){this.setBit(y,t);}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,e){super.setVV(t,e),this.vvOpacity=!e.isOutline&&!!(t&L$1.OPACITY);}};class w extends(B(R(F(U)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:a}=t,r=this.load(0);return r.geometryType=E$1.FILL,r.symbologyType=e,e!==S$1.DOT_DENSITY&&r.setVV(a,t),r.data}getVariation(){return {...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}w.shared=new w(0);class N extends(B(R(x(F(U))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:a}=t,r=this.load(0);return r.geometryType=E$1.MARKER,r.symbologyType=e,e!==S$1.HEATMAP&&r.setVV(a,t),r.data}getVariation(){return {...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}N.shared=new N(0);class C extends(B(R(F(U)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=E$1.LINE,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return {...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}C.shared=new C(0);class P extends(B(R(x(F(U))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=E$1.TEXT,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return {...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}P.shared=new P(0);class Z extends(F(U)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const s=this.load(0);return s.geometryType=E$1.LABEL,s.symbologyType=t.symbologyType,s.setVV(t.vvFlags,t),s.mapAligned=i$1(t.placement),s.data}getVariation(){return {...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}Z.shared=new Z(0);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=128/Math.PI,t=256/360,r=1/Math.LN2;function u(n,t){return (n%=t)>=0?n:n+t}function o(t){return u(t*n,256)}function c(n){return u(n*t,256)}function e(n){return Math.log(n)*r}function f(n,t,r){return n*(1-r)+t*r}function i(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}

export { A, C, N, O, P, U, Z, _, b, c, e, f$1 as f, w };

//# sourceMappingURL=GeometryUtils-ae7c7d19.js.map