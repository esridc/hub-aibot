import{c as n}from"./p-bc44344d.js";import{h as t}from"./p-5b036533.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const e="hidden-form-input";function o(n){return"checked"in n}const s=new WeakMap;const r=new WeakSet;function c(n,t){const e="calciteInternalFormComponentRegister";let o=false;n.addEventListener(e,(n=>{o=n.composedPath().some((n=>r.has(n)));n.stopPropagation()}),{once:true});t.dispatchEvent(new CustomEvent(e,{bubbles:true,composed:true}));return o}function u(n){const{formEl:t}=n;if(!t){return false}"requestSubmit"in t?t.requestSubmit():t.submit();return true}function i(n){n.formEl?.reset()}function f(t){const{el:e,value:u}=t;const i=n(e,"form");if(!i||c(i,e)){return}t.formEl=i;t.defaultValue=u;if(o(t)){t.defaultChecked=t.checked}const f=(t.onFormReset||l).bind(t);i.addEventListener("reset",f);s.set(t.el,f);r.add(e)}function l(){if(o(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function a(n){const{el:t,formEl:e}=n;if(!e){return}const o=s.get(t);e.removeEventListener("reset",o);s.delete(t);n.formEl=null;r.delete(t)}function m(n,t){n.defaultValue=t}const p=n=>{n.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:true}))};const d=n=>n.removeEventListener("change",p);function b(n){const{el:t,formEl:o,name:s,value:r}=n;const{ownerDocument:c}=t;const u=t.querySelectorAll(`input[slot="${e}"]`);if(!o||!s){u.forEach((n=>{d(n);n.remove()}));return}const i=Array.isArray(r)?r:[r];const f=[];const l=new Set;u.forEach((t=>{const e=i.find((n=>n==t.value));if(e!=null){l.add(e);h(n,t,e)}else{f.push(t)}}));let a;i.forEach((t=>{if(l.has(t)){return}let o=f.pop();if(!o){o=c.createElement("input");o.slot=e}if(!a){a=c.createDocumentFragment()}a.append(o);o.addEventListener("change",p);h(n,o,t)}));if(a){t.append(a)}f.forEach((n=>{d(n);n.remove()}))}function h(n,t,e){const{defaultValue:s,disabled:r,name:c,required:u}=n;t.defaultValue=s;t.disabled=r;t.name=c;t.required=u;t.tabIndex=-1;if(o(n)){t.checked=n.checked;t.defaultChecked=n.defaultChecked;t.value=n.checked?e||"on":""}else{t.value=e||""}n.syncHiddenFormInput?.(t)}const w=({component:n})=>{b(n);return t("slot",{name:e})};export{w as H,m as a,f as c,a as d,i as r,u as s};
//# sourceMappingURL=p-d6cc0886.js.map