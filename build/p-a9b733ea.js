import{l as e,m as r,o as t,p as n,h as u,r as a}from"./p-bc44344d.js";
/*!
* focus-trap 7.2.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,t){r=s(r);if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function c(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var n=t.call(e,r||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function s(e){var r=c(e,"string");return typeof r==="symbol"?r:String(r)}var v={activateTrap:function e(r,t){if(r.length>0){var n=r[r.length-1];if(n!==t){n.pause()}}var u=r.indexOf(t);if(u===-1){r.push(t)}else{r.splice(u,1);r.push(t)}},deactivateTrap:function e(r,t){var n=r.indexOf(t);if(n!==-1){r.splice(n,1)}if(r.length>0){r[r.length-1].unpause()}}};var l=function e(r){return r.tagName&&r.tagName.toLowerCase()==="input"&&typeof r.select==="function"};var d=function e(r){return r.key==="Escape"||r.key==="Esc"||r.keyCode===27};var b=function e(r){return r.key==="Tab"||r.keyCode===9};var p=function e(r){return b(r)&&!r.shiftKey};var h=function e(r){return b(r)&&r.shiftKey};var m=function e(r){return setTimeout(r,0)};var w=function e(r,t){var n=-1;r.every((function(e,r){if(t(e)){n=r;return false}return true}));return n};var y=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++){n[u-1]=arguments[u]}return typeof r==="function"?r.apply(void 0,n):r};var F=function e(r){return r.target.shadowRoot&&typeof r.composedPath==="function"?r.composedPath()[0]:r.target};var O=[];var j=function u(a,i){var o=(i===null||i===void 0?void 0:i.document)||document;var c=(i===null||i===void 0?void 0:i.trapStack)||O;var s=f({returnFocusOnDeactivate:true,escapeDeactivates:true,delayInitialFocus:true,isKeyForward:p,isKeyBackward:h},i);var j={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:false,paused:false,delayInitialFocusTimer:undefined};var k;var T=function e(r,t,n){return r&&r[t]!==undefined?r[t]:s[n||t]};var D=function e(r){return j.containerGroups.findIndex((function(e){var t=e.container,n=e.tabbableNodes;return t.contains(r)||n.find((function(e){return e===r}))}))};var g=function e(r){var t=s[r];if(typeof t==="function"){for(var n=arguments.length,u=new Array(n>1?n-1:0),a=1;a<n;a++){u[a-1]=arguments[a]}t=t.apply(void 0,u)}if(t===true){t=undefined}if(!t){if(t===undefined||t===false){return t}throw new Error("`".concat(r,"` was specified but was not a node, or did not return a node"))}var i=t;if(typeof t==="string"){i=o.querySelector(t);if(!i){throw new Error("`".concat(r,"` as selector refers to no known node"))}}return i};var E=function e(){var r=g("initialFocus");if(r===false){return false}if(r===undefined){if(D(o.activeElement)>=0){r=o.activeElement}else{var t=j.tabbableGroups[0];var n=t&&t.firstTabbableNode;r=n||g("fallbackFocus")}}if(!r){throw new Error("Your focus-trap needs to have at least one focusable element")}return r};var N=function n(){j.containerGroups=j.containers.map((function(n){var u=e(n,s.tabbableOptions);var a=r(n,s.tabbableOptions);return{container:n,tabbableNodes:u,focusableNodes:a,firstTabbableNode:u.length>0?u[0]:null,lastTabbableNode:u.length>0?u[u.length-1]:null,nextTabbableNode:function e(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var u=a.findIndex((function(e){return e===r}));if(u<0){return undefined}if(n){return a.slice(u+1).find((function(e){return t(e,s.tabbableOptions)}))}return a.slice(0,u).reverse().find((function(e){return t(e,s.tabbableOptions)}))}}}));j.tabbableGroups=j.containerGroups.filter((function(e){return e.tabbableNodes.length>0}));if(j.tabbableGroups.length<=0&&!g("fallbackFocus")){throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")}};var A=function e(r){if(r===false){return}if(r===o.activeElement){return}if(!r||!r.focus){e(E());return}r.focus({preventScroll:!!s.preventScroll});j.mostRecentlyFocusedNode=r;if(l(r)){r.select()}};var R=function e(r){var t=g("setReturnFocus",r);return t?t:t===false?false:r};var S=function e(r){var t=F(r);if(D(t)>=0){return}if(y(s.clickOutsideDeactivates,r)){k.deactivate({returnFocus:s.returnFocusOnDeactivate&&!n(t,s.tabbableOptions)});return}if(y(s.allowOutsideClick,r)){return}r.preventDefault()};var C=function e(r){var t=F(r);var n=D(t)>=0;if(n||t instanceof Document){if(n){j.mostRecentlyFocusedNode=t}}else{r.stopImmediatePropagation();A(j.mostRecentlyFocusedNode||E())}};var P=function e(r){var u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=F(r);N();var i=null;if(j.tabbableGroups.length>0){var f=D(a);var o=f>=0?j.containerGroups[f]:undefined;if(f<0){if(u){i=j.tabbableGroups[j.tabbableGroups.length-1].lastTabbableNode}else{i=j.tabbableGroups[0].firstTabbableNode}}else if(u){var c=w(j.tabbableGroups,(function(e){var r=e.firstTabbableNode;return a===r}));if(c<0&&(o.container===a||n(a,s.tabbableOptions)&&!t(a,s.tabbableOptions)&&!o.nextTabbableNode(a,false))){c=f}if(c>=0){var v=c===0?j.tabbableGroups.length-1:c-1;var l=j.tabbableGroups[v];i=l.lastTabbableNode}else if(!b(r)){i=o.nextTabbableNode(a,false)}}else{var d=w(j.tabbableGroups,(function(e){var r=e.lastTabbableNode;return a===r}));if(d<0&&(o.container===a||n(a,s.tabbableOptions)&&!t(a,s.tabbableOptions)&&!o.nextTabbableNode(a))){d=f}if(d>=0){var p=d===j.tabbableGroups.length-1?0:d+1;var h=j.tabbableGroups[p];i=h.firstTabbableNode}else if(!b(r)){i=o.nextTabbableNode(a)}}}else{i=g("fallbackFocus")}if(i){if(b(r)){r.preventDefault()}A(i)}};var B=function e(r){if(d(r)&&y(s.escapeDeactivates,r)!==false){r.preventDefault();k.deactivate();return}if(s.isKeyForward(r)||s.isKeyBackward(r)){P(r,s.isKeyBackward(r))}};var x=function e(r){var t=F(r);if(D(t)>=0){return}if(y(s.clickOutsideDeactivates,r)){return}if(y(s.allowOutsideClick,r)){return}r.preventDefault();r.stopImmediatePropagation()};var G=function e(){if(!j.active){return}v.activateTrap(c,k);j.delayInitialFocusTimer=s.delayInitialFocus?m((function(){A(E())})):A(E());o.addEventListener("focusin",C,true);o.addEventListener("mousedown",S,{capture:true,passive:false});o.addEventListener("touchstart",S,{capture:true,passive:false});o.addEventListener("click",x,{capture:true,passive:false});o.addEventListener("keydown",B,{capture:true,passive:false});return k};var I=function e(){if(!j.active){return}o.removeEventListener("focusin",C,true);o.removeEventListener("mousedown",S,true);o.removeEventListener("touchstart",S,true);o.removeEventListener("click",x,true);o.removeEventListener("keydown",B,true);return k};k={get active(){return j.active},get paused(){return j.paused},activate:function e(r){if(j.active){return this}var t=T(r,"onActivate");var n=T(r,"onPostActivate");var u=T(r,"checkCanFocusTrap");if(!u){N()}j.active=true;j.paused=false;j.nodeFocusedBeforeActivation=o.activeElement;if(t){t()}var a=function e(){if(u){N()}G();if(n){n()}};if(u){u(j.containers.concat()).then(a,a);return this}a();return this},deactivate:function e(r){if(!j.active){return this}var t=f({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},r);clearTimeout(j.delayInitialFocusTimer);j.delayInitialFocusTimer=undefined;I();j.active=false;j.paused=false;v.deactivateTrap(c,k);var n=T(t,"onDeactivate");var u=T(t,"onPostDeactivate");var a=T(t,"checkCanReturnFocus");var i=T(t,"returnFocus","returnFocusOnDeactivate");if(n){n()}var o=function e(){m((function(){if(i){A(R(j.nodeFocusedBeforeActivation))}if(u){u()}}))};if(i&&a){a(R(j.nodeFocusedBeforeActivation)).then(o,o);return this}o();return this},pause:function e(){if(j.paused||!j.active){return this}j.paused=true;I();return this},unpause:function e(){if(!j.paused||!j.active){return this}j.paused=false;N();G();return this},updateContainerElements:function e(r){var t=[].concat(r).filter(Boolean);j.containers=t.map((function(e){return typeof e==="string"?o.querySelector(e):e}));if(j.active){N()}return this}};k.updateContainerElements(a);return k};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const k=[];function T(e){const{focusTrapEl:r}=e;if(!r){return}if(r.tabIndex==null){r.tabIndex=-1}const t={clickOutsideDeactivates:true,document:r.ownerDocument,escapeDeactivates:false,fallbackFocus:r,setReturnFocus:e=>{u(e);return false},tabbableOptions:a,trapStack:k};e.focusTrap=j(r,t)}function D(e){if(!e.focusTrapDisabled){e.focusTrap?.activate()}}function g(e){e.focusTrap?.deactivate()}function E(e){e.focusTrap?.updateContainerElements(e.focusTrapEl)}export{D as a,T as c,g as d,E as u};
//# sourceMappingURL=p-a9b733ea.js.map