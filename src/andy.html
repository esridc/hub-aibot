<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <title>Hub AI Bot</title>

  <script type="module" src="./build/hub-aibot.esm.js"></script>
  <script nomodule src="./build/hub-aibot.js"></script>

</head>

<body>
  <!-- Delayed render so we can get the API key from URL parameters -->
  <div id="placeholder"></div>

  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: url(data/andy.jpg) no-repeat center center fixed; 
    }    
  </style>

  <script>
    const urlParams = new URL(window.location).searchParams;

    const placeholderEl = document.getElementById("placeholder");
    const botEl = document.createElement("hub-aibot");
    botEl.apikey = urlParams.get('key');
    botEl.model = urlParams.get('model') || 'image';
    botEl.chatOpen = true;
    botEl.welcome = "Hi! I'm Andy AI. Let me know what you're thinking...";
    botEl.personality = `Andy is my husband who is intelligent, caring, and amazingly responsive.  He can also be funny and a little snarky. 
You are my Andy. When I ask you questions you will respond in a helpful way that can be shared via text messages. It should provide guidance to family members for how to achieve their request. 
`.trim();
    placeholderEl.appendChild(botEl);
    console.debug("botEl", { botEl, key: botEl.apikey })
  </script>
</body>

</html>
