{"version":3,"names":["arcgisHubIdentityCss","ArcgisHubIdentity","componentWillLoad","state","app","client","this","redirect","portal","signinClick","evt","CustomEvent","document","dispatchEvent","signoutClick","signedinEvent","console","debug","context","detail","signedoutEvent","_evt","render","h","Host","id","renderIdentity","user","_a","fullName","ref","el","signinButton","onClick"],"sources":["./src/components/arcgis-hub-identity/arcgis-hub-identity.css?tag=arcgis-hub-identity&encapsulation=shadow","./src/components/arcgis-hub-identity/arcgis-hub-identity.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n#title {\n  color: blue;\n  font-size: 500;\n  padding: auto 0;\n}\n","import { Component, Host, Listen, Prop, h } from '@stencil/core';\nimport state from \"../../util/state\";\n\n@Component({\n  tag: 'arcgis-hub-identity',\n  styleUrl: 'arcgis-hub-identity.css',\n  shadow: true,\n})\nexport class ArcgisHubIdentity {\n  \n  @Prop({ mutable: true }) client:string = null;\n  @Prop({ mutable: true }) redirect:string = null;\n  @Prop({ mutable: true }) portal:string = \"https://www.arcgis.com\";\n\n\n  componentWillLoad() {\n    // the redirect may be set after loading based on deploy host\n    state.app = {\n      client: this.client,\n      redirect: this.redirect,\n      portal: this.portal\n    }    \n  }\n    /**\n     * reference to sign-in button for onclick events\n     */\n    signinButton:HTMLCalciteButtonElement;\n  \n    signinClick() {\n      const evt = new CustomEvent('arcgisAppIdentityStartSignIn');\n      document.dispatchEvent(evt);    \n    }\n    signoutClick() {\n      const evt = new CustomEvent('arcgisAppIdentityStartSignOut');\n      document.dispatchEvent(evt);    \n    }\n    @Listen('arcgisAppIdentitySignedIn')\n    signedinEvent(evt) {\n      console.debug(\"arcgis-hub-identity: signedinEvent\")\n      state.context = evt.detail;\n    }\n    @Listen('arcgisAppIdentitySignedOut')\n    signedoutEvent(_evt) {\n      state.context = null;\n    }\n  \n    render() {\n      return (\n        <Host>\n          \n            <span id=\"profile\">\n            <arcgis-app-identity \n              client-id={state.app.client}\n              redirect-uri={state.app.redirect}\n              portal={state.app.portal}\n            >  \n              <slot></slot>\n            </arcgis-app-identity>\n  \n            \n            {this.renderIdentity()}\n          </span>\n        </Host>\n      );\n    }\n  \n    renderIdentity() {\n      if(!!state.user) {\n        return state.user?.fullName\n        // return (\n        //   <calcite-dropdown>\n        //     <calcite-button slot=\"dropdown-trigger\">{state.user?.fullName}</calcite-button>\n        //     <calcite-dropdown-group>\n        //       <calcite-dropdown-item\n        //         onclick={this.signoutClick}\n        //       >Sign Out</calcite-dropdown-item>\n        //     </calcite-dropdown-group>\n        //   </calcite-dropdown>\n        // )\n      } else {\n        return (\n          <calcite-button\n            ref={el => this.signinButton = el}\n            onClick={this.signinClick}\n          >\n            Sign In\n          </calcite-button>\n        )\n      }\n  \n            \n    }\n  \n  }\n  "],"mappings":"iFAAA,MAAMA,EAAuB,sE,MCQhBC,EAAiB,M,qCAEa,K,cACE,K,YACF,wB,CAGzCC,oBAEEC,EAAMC,IAAM,CACVC,OAAQC,KAAKD,OACbE,SAAUD,KAAKC,SACfC,OAAQF,KAAKE,O,CAQfC,cACE,MAAMC,EAAM,IAAIC,YAAY,gCAC5BC,SAASC,cAAcH,E,CAEzBI,eACE,MAAMJ,EAAM,IAAIC,YAAY,iCAC5BC,SAASC,cAAcH,E,CAGzBK,cAAcL,GACZM,QAAQC,MAAM,sCACdd,EAAMe,QAAUR,EAAIS,M,CAGtBC,eAAeC,GACblB,EAAMe,QAAU,I,CAGlBI,SACE,OACEC,EAACC,EAAI,KAEDD,EAAA,QAAME,GAAG,WACTF,EAAA,mCACapB,EAAMC,IAAIC,OAAM,eACbF,EAAMC,IAAIG,SACxBC,OAAQL,EAAMC,IAAII,QAElBe,EAAA,cAIDjB,KAAKoB,kB,CAMdA,iB,MACE,KAAKvB,EAAMwB,KAAM,CACf,OAAOC,EAAAzB,EAAMwB,QAAI,MAAAC,SAAA,SAAAA,EAAEC,Q,KAWd,CACL,OACEN,EAAA,kBACEO,IAAKC,GAAMzB,KAAK0B,aAAeD,EAC/BE,QAAS3B,KAAKG,aAAW,U"}