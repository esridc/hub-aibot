import{r as t,d as e,h as i,H as n,g as a}from"./p-4d42db0b.js";import{e as s,g as o,t as c}from"./p-c673c097.js";import{c as l,u as r,d}from"./p-27680149.js";import{g as h,u as f,a as u,I as m,C as p,S as g}from"./p-77eb0740.js";import{c as b,d as y}from"./p-79237d37.js";import{u as v,c as x,s as k,d as C}from"./p-876a8809.js";import{s as w,a as E,c as S}from"./p-86ba524c.js";import"./p-386d1501.js";import"./p-2a7cd91f.js";import"./p-779078e6.js";import"./p-2872e2fa.js";import"./p-6207f8cf.js";const j="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column;--calcite-list-item-icon-color:var(--calcite-ui-brand);--calcite-list-item-spacing-indent:1rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{box-sizing:border-box;display:flex;flex:1 1 0%;background-color:var(--calcite-ui-foreground-1);font-family:var(--calcite-sans-family);padding-inline-start:calc(var(--calcite-list-item-spacing-indent) * var(--calcite-list-item-spacing-indent-multiplier))}.container *{box-sizing:border-box}.container:hover{cursor:pointer;background-color:var(--calcite-ui-foreground-2)}.container--border-selected{border-inline-start:4px solid var(--calcite-ui-brand)}.container--border-unselected{border-inline-start:4px solid transparent}.nested-container{display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1)}.nested-container--hidden{display:none}.content-container{display:flex;flex:1 1 auto;align-items:stretch;padding:0px;font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}tr,td{outline-color:transparent}tr:focus,td:focus{z-index:var(--calcite-app-z-index-sticky);outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}.content,.custom-content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375}.label,.description{font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}.label:only-child,.description:only-child{margin:0px;padding-block:0.25rem}.label{color:var(--calcite-ui-text-1)}.description{margin-block-start:0.125rem;color:var(--calcite-ui-text-3)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:1 1 auto}.content-container--has-center-content .content-start,.content-container--has-center-content .content-end{flex:0 1 auto}.selection-container{display:flex;padding-inline:0.75rem;color:var(--calcite-list-item-icon-color)}.actions-start,.actions-end,.content-start,.content-end,.selection-container,.open-container{display:flex;align-items:center}.open-container,.selection-container{cursor:pointer}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start ::slotted(calcite-action),.actions-end ::slotted(calcite-action){align-self:stretch;color:inherit}::slotted(calcite-list-item){border-width:0px;border-block-start-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}[hidden]{display:none}";const D=new Map;const L="calcite-list";const _=class{constructor(i){t(this,i);this.calciteListItemSelect=e(this,"calciteListItemSelect",6);this.calciteListItemClose=e(this,"calciteListItemClose",6);this.calciteInternalListItemSelect=e(this,"calciteInternalListItemSelect",6);this.calciteInternalListItemActive=e(this,"calciteInternalListItemActive",6);this.calciteInternalFocusPreviousItem=e(this,"calciteInternalFocusPreviousItem",6);this.closeClickHandler=()=>{this.closed=true;this.calciteListItemClose.emit()};this.handleContentSlotChange=t=>{this.hasCustomContent=s(t)};this.handleActionsStartSlotChange=t=>{this.hasActionsStart=s(t)};this.handleActionsEndSlotChange=t=>{this.hasActionsEnd=s(t)};this.handleContentStartSlotChange=t=>{this.hasContentStart=s(t)};this.handleContentEndSlotChange=t=>{this.hasContentEnd=s(t)};this.handleDefaultSlotChange=t=>{const{parentListEl:e}=this;const i=h(t);f(i);const n=!!i.length;if(n&&e&&!e.openable){e.openable=true}this.openable=n;if(!n){this.open=false}};this.toggleOpen=()=>{this.open=!this.open};this.itemClicked=t=>{if(t.defaultPrevented){return}this.toggleSelected();this.calciteInternalListItemActive.emit()};this.toggleSelected=()=>{const{selectionMode:t,selected:e}=this;if(this.disabled){return}if(t==="multiple"||t==="single"){this.selected=!e}else if(t==="single-persist"){this.selected=true}this.calciteListItemSelect.emit()};this.handleItemKeyDown=t=>{if(t.defaultPrevented){return}const{key:e}=t;const i=t.composedPath();const{containerEl:n,contentEl:a,actionsStartEl:s,actionsEndEl:o,open:c,openable:l}=this;const r=[s,a,o].filter(Boolean);const d=r.findIndex((t=>i.includes(t)));if(e==="Enter"){t.preventDefault();this.toggleSelected()}else if(e==="ArrowRight"){t.preventDefault();const e=d+1;if(d===-1){if(!c&&l){this.open=true;this.focusCell(null)}else if(r[0]){this.focusCell(r[0])}}else if(r[d]&&r[e]){this.focusCell(r[e])}}else if(e==="ArrowLeft"){t.preventDefault();const e=d-1;if(d===-1){this.focusCell(null);if(c&&l){this.open=false}else{this.calciteInternalFocusPreviousItem.emit()}}else if(d===0){this.focusCell(null);n.focus()}else if(r[d]&&r[e]){this.focusCell(r[e])}}};this.focusCellNull=()=>{this.focusCell(null)};this.focusCell=(t,e=true)=>{const{contentEl:i,actionsStartEl:n,actionsEndEl:a,parentListEl:s}=this;if(e){D.set(s,null)}[n,i,a].filter(Boolean).forEach(((i,n)=>{const a="tabindex";if(i===t){i.setAttribute(a,"0");e&&D.set(s,n)}else{i.removeAttribute(a)}}));t===null||t===void 0?void 0:t.focus()};this.active=false;this.closable=false;this.closed=false;this.description=undefined;this.disabled=false;this.label=undefined;this.metadata=undefined;this.open=false;this.setSize=null;this.setPosition=null;this.selected=false;this.value=undefined;this.selectionMode=null;this.selectionAppearance=null;this.messageOverrides=undefined;this.messages=undefined;this.effectiveLocale="";this.defaultMessages=undefined;this.level=null;this.visualLevel=null;this.parentListEl=undefined;this.openable=false;this.hasActionsStart=false;this.hasActionsEnd=false;this.hasCustomContent=false;this.hasContentStart=false;this.hasContentEnd=false}activeHandler(t){if(!t){this.focusCell(null,false)}}handleSelectedChange(){this.calciteInternalListItemSelect.emit()}onMessagesChange(){}effectiveLocaleChange(){v(this,this.effectiveLocale)}connectedCallback(){l(this);b(this);x(this);const{el:t}=this;this.parentListEl=t.closest(L);this.level=u(t)+1;this.visualLevel=u(t,true);this.setSelectionDefaults()}async componentWillLoad(){w(this);await k(this)}componentDidLoad(){E(this)}componentDidRender(){r(this,"managed")}disconnectedCallback(){d(this);y(this);C(this)}async setFocus(){await S(this);const{containerEl:t,contentEl:e,actionsStartEl:i,actionsEndEl:n,parentListEl:a}=this;const s=D.get(a);if(typeof s==="number"){const a=[i,e,n].filter(Boolean);if(a[s]){this.focusCell(a[s])}else{t===null||t===void 0?void 0:t.focus()}return}t===null||t===void 0?void 0:t.focus()}renderSelected(){const{selected:t,selectionMode:e,selectionAppearance:n}=this;if(e==="none"||n==="border"){return null}return i("td",{class:p.selectionContainer,key:"selection-container",onClick:this.itemClicked},i("calcite-icon",{icon:t?e==="multiple"?m.selectedMultiple:m.selectedSingle:m.unselected,scale:"s"}))}renderOpen(){const{el:t,open:e,openable:n,parentListEl:a}=this;const s=o(t);return n?i("td",{class:p.openContainer,key:"open-container",onClick:this.toggleOpen},i("calcite-icon",{icon:e?m.open:s==="rtl"?m.closedRTL:m.closedLTR,scale:"s"})):(a===null||a===void 0?void 0:a.openable)?i("td",{class:p.openContainer,key:"open-container",onClick:this.itemClicked},i("calcite-icon",{icon:m.blank,scale:"s"})):null}renderActionsStart(){const{label:t,hasActionsStart:e}=this;return i("td",{"aria-label":t,class:p.actionsStart,hidden:!e,key:"actions-start-container",role:"gridcell",ref:t=>this.actionsStartEl=t},i("slot",{name:g.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{label:t,hasActionsEnd:e,closable:n,messages:a}=this;return i("td",{"aria-label":t,class:p.actionsEnd,hidden:!(e||n),key:"actions-end-container",role:"gridcell",ref:t=>this.actionsEndEl=t},i("slot",{name:g.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}),n?i("calcite-action",{appearance:"transparent",icon:m.close,key:"close-action",label:a.close,onClick:this.closeClickHandler,text:a.close}):null)}renderContentStart(){const{hasContentStart:t}=this;return i("div",{class:p.contentStart,hidden:!t},i("slot",{name:g.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderCustomContent(){const{hasCustomContent:t}=this;return i("div",{class:p.customContent,hidden:!t},i("slot",{name:g.content,onSlotchange:this.handleContentSlotChange}))}renderContentEnd(){const{hasContentEnd:t}=this;return i("div",{class:p.contentEnd,hidden:!t},i("slot",{name:g.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}renderContentProperties(){const{label:t,description:e,hasCustomContent:n}=this;return!n&&(!!t||!!e)?i("div",{class:p.content,key:"content"},t?i("div",{class:p.label,key:"label"},t):null,e?i("div",{class:p.description,key:"description"},e):null):null}renderContentContainer(){const{description:t,label:e,selectionMode:n,hasCustomContent:a}=this;const s=a||!!e||!!t;const o=[this.renderContentStart(),this.renderCustomContent(),this.renderContentProperties(),this.renderContentEnd()];return i("td",{"aria-label":e,class:{[p.contentContainer]:true,[p.contentContainerSelectable]:n!=="none",[p.contentContainerHasCenterContent]:s},key:"content-container",onClick:this.itemClicked,role:"gridcell",ref:t=>this.contentEl=t},o)}render(){const{openable:t,open:e,level:a,setPosition:s,setSize:o,active:l,label:r,selected:d,selectionAppearance:h,selectionMode:f,closed:u}=this;const m=f!=="none"&&h==="border";const g=m&&d;const b=m&&!d;return i(n,null,i("tr",{"aria-expanded":t?c(e):null,"aria-label":r,"aria-level":a,"aria-posinset":s,"aria-selected":c(d),"aria-setsize":o,class:{[p.container]:true,[p.containerBorderSelected]:g,[p.containerBorderUnselected]:b},hidden:u,onFocus:this.focusCellNull,onKeyDown:this.handleItemKeyDown,role:"row",style:{"--calcite-list-item-spacing-indent-multiplier":`${this.visualLevel}`},tabIndex:l?0:-1,ref:t=>this.containerEl=t},this.renderSelected(),this.renderOpen(),this.renderActionsStart(),this.renderContentContainer(),this.renderActionsEnd()),i("div",{class:{[p.nestedContainer]:true,[p.nestedContainerHidden]:t&&!e}},i("slot",{onSlotchange:this.handleDefaultSlotChange})))}setSelectionDefaults(){const{parentListEl:t,selectionMode:e,selectionAppearance:i}=this;if(!t){return}if(!e){this.selectionMode=t.selectionMode}if(!i){this.selectionAppearance=t.selectionAppearance}}static get assetsDirs(){return["assets"]}get el(){return a(this)}static get watchers(){return{active:["activeHandler"],selected:["handleSelectedChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};_.style=j;export{_ as calcite_list_item};
//# sourceMappingURL=p-b824347b.entry.js.map